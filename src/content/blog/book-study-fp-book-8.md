---
author: Gihwan-dev
pubDatetime: 2024-05-23T13:38:01.293Z
title: bookSailor | 귀에 쏙쏙 들어오는 함수형 프로그래밍 Chapter8
slug: bookSailor-fp-chapter8
featured: false
draft: false
tags:
  - bookSailor
  - fp
  - study
description: 현재 진행중인 귀에 쏙쏙 들어오는 함수형 프로그래밍 북 스터디 Chapter8 요약본입니다.
---

## Table of contents

## 소프트웨어 설계란 무엇인가?

코드에 대해 자신이 없다는 것 => 설계가 잘못되었다
설계가 잘 되었다면 아이디어를 코드로 구현하고 테스트하고 유지보수하기 쉽다.

## 소프트웨어 설계

계층형 설계는 소프트웨어를 계층으로 구성하는 기술이다. 각 계층에 있는 함수는 바로 아래 계층에 있는 함수를 이용해 정의한다.

**가장 좋은 설계를 위한 공식은 찾기 어렵다.** 그렇다면 좋은 설계를 위한 감각은 어떻게 키울 수 있을까?

### 설계 감각을 키우기

계층형 설계 감각을 키우기 위한 입력

다양한 입력을 생각해보자. 이는 계층형 설계에 대한 단서가 된다.

| 함수 본문      | 계층 구조   | 함수 시그니처 |
| -------------- | ----------- | ------------- |
| 길이           | 화살표 길이 | 함수명        |
| 복잡성         | 응집도      | 인자이름      |
| 구체화 단계    | 구체화 단계 | 인자 값       |
| 함수 호출      |             | 인자 값       |
| 언어 기능 사용 |             |               |

계층형 설계 감각을 키우기 위한 출력

입력으로 출력을 만든다.

| 조직화               | 구현      | 변경             |
| -------------------- | --------- | ---------------- |
| 함수를 어디에 놓을지 | 구현 변경 | 작성할 곳 선택   |
| 다른곳으로 이동      | 추출      | 구체화 단계 결정 |
|                      | 구조 변경 |                  |

## 설계 패턴

1. 직접 구현: 직접 구현한 함수를 읽을 때 함수 시그니처가 나타내고 있는 문제를 적절한 구체화 수준에서 해결해야 한다. 너무 구체적 => 코드에서 나는 냄새
2. 추상화 벽: 어떤 계층은 세부 구현을 감추고 인터페이스를 제공한다. 고수준의 추상화 단계만 생각하면 된다.
3. 작은 인터페이스: 시스템이 커질수록 비즈니스 개념을 나타내는 중요한 인터페이스는 작고 강력한 동작으로 유지하는게 좋다.
4. 편리한 계층: 코드와 그 코드가 속한 추상화 계층은 편리해야 한다.

### 직접 구현

복잡하지 않게 함수를 표현해야 한다.

**설계 스프린트**: 코드에 있는 지식으로 해야할 동작을 정리하는 것

호출 그래프를 만들어 함수 호출 시각화

같은 계층에 있는 함수는 같은 "목적"을 가져야 한다.

> 다이어 그램을 통해 시각호 하면 계층 구조를 명확히 파악할 수 있다.

#### 3단계 줌 레벨

1. 전역 줌 레벨
   - 계층 사이에 상호 관계를 포함해서 모든 문제 영역을 살펴볼 수 있다.
2. 계층 줌 레벨
   - 한 계층과 바로 아래 계층을 볼 수 있는 줌 레벨
3. 함수 줌 레벨
   - 함수 하나와 함수 바로 아래 연결된 함수를 볼 수 있는 레벨

각 레벨에서 보며 구조를 확인하고 수정한다. "직접 구현"패턴에서는 바로 한 계층 아래의 함수만 호출할 수 있다.

## 직접 구현 패턴

- 한 단계의 구체화 수준에 관한 문제만 해결
- 계층형 설계는 특정 구체화 단계에 집중할 수 있게 도와준다.
- 호출 그래프는 구체화 단계에 대한 풍부한 단서를 보여준다.
- 함수를 추출하면 더 일반적인 함수로 만들 수 있다.
- 일반적인 함수로 만들수록 재사용하기 좋다.
- 복잡성을 감추지 않는다.
- 직접 구현 패턴이 적용된 계층 구조로 만들면, 간단한 함수로 또 다른 간단한 함수를 만들면서 코드를 구성할 수 있다.
