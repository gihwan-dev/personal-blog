---
author: Gihwan-dev
pubDatetime: 2024-08-29T13:42:34.320Z
title: Rust를 공부하며 배운점 (with JS)
slug: what-i-learn-with-rust
featured: true
draft: false
tags:
  - rust
  - javascript
description: Rust를 공부하며 자바스크립트를 대할때 어떻게 해야할지 배운점들에 대해 요약했습니다.
---

## Table of contents

## Rust를 배우며

`Rust`는 Mozilla 재단에서 개발한 정적 타입 언어이다. `Ownership`, `Borrow`, `Move` 와 같은 생소한 개념들이 있다. 여러곳에 이력서를 제출하며 어떤 회사에 합격하게 되었고 해당 회사에서 `Rust` 기반으로 풀스택 개발을 한다는걸 알게 되었다. 3주뒤 코딩 테스트가 예정되어 있어 `Rust`로 코딩 테스트를 치자! 하는 생각을 했고 공부하게 되었다.

## Rust란?

러스트는 다양한 특징들을 가지고 있었다. 내가 배우며 만난 `Rust`는 다음과 같은 특징들을 가지고 있었다.

### 1. 강한 타입 언어 이다

타입스크립트는 구조적 타입 시스템 이라고 한다. 타입이 같은지를 결정하는 방법이 타입 그 자체에 있는게 아닌 그 타입이 구성하는 구조에 있다는 것이다. 즉 다음 두 타입은 같은 타입이다.

```ts
type SomeType1 = {
  id: number;
  name: string;
};

type SomeType2 = {
  id: number;
  name: string;
};
```

다만 `Rust`에서는 이 두 타입이 같은 구조를 가지더라도 같은 타입이 아니다.

### 2. Null 값이 없다

`Rust` 에는 `Null` 값이 없다. 대신 `Result` 값과 `Option` 값이 있다. 예전에 **토스**의 기술 문서를 보며 `Null` 값이 왜 좋지 않은지에 대해서 본적이 있다. `Null` 값을 반환하는 코드는 그 코드를 사용하는 입장에서 `Null` 값이 반환된 이유를 명확히 파악하기 어렵게 한다. 예를들어 다음과 같은 코드가 있다고 가정해보자.

```ts
const user = getUser();
```

만약 여기서 `getUser`가 `Null` 값을 반환한다면 그 이유가 뭘까?

1. 찾고 있는 사용자가 존재하지 않아서
2. 네트워크 오류로 인해 사용자를 찾지 못해 `Null` 값을 반환
3. etc...

더 많은 이유가 있을 수 있다. 문제는 이 `Null` 값이 반환될 수 있는 이유는 수없이 많은데 `Null`이라는 값이 이를 명확히 설명하지 못한다는 것이다. `Rust`에서는 이를 `Option`, `Result` 라는 값으로 해결한다.

```rust
let some_value: Result<User, Error> = getUser().unwrap();
```

위 처럼 사용할 수 있다. `Rust` 에서 `Result` 값은 말 그래도 성공 혹은 실패의 값을 반환한다. `Rust` 에서는 성공 혹은 실패할 수 있는 값에 대해서 반드시 처리해 줘야 한다. `.unwrap()` 메서드는 값이 에러가 아니라면 `User`를 반환하고 에러가 있다면 에러를 `throw` 한다.

### 3. 에러에 엄격하다

`Rust`는 에러에 매우 엄격하다. `JavaScript` 처럼 에러 처리를 넘어갈 수 없다. 에러를 발생시킬 수 있는 로직들은 `Result` 값을 반환하게 되고 이 `Result` 값은 반드시 `unwrap` 되어야만 사용할 수 있다. `unwrap` 또는 `expect`를 사용해 에러 처리에 대한 권한을 사용하는 측에 위임하거나 `match`, `unwrap_or_else` 와 같은 메서드를 사용해서 예외 처리를 반드시 해줘야 한다.

```rust
   match iter.find(|&target| target == c) {
                Some(_) => (),
                None => return false,
            }
```

`find` 메서드를 사용해서 어떤 값을 찾는다. 여기서 `find` 메서드는 반환 값으로 `Option` 값을 반환한다. 당연하게도 `Some`은 값이 있는 경우이며, `None`은 값이 없는 경우이다. 이 둘 모두에 대한 처리가 반드시 이루어 져야 한다. 그렇지 않으면 컴파일 되지 않는다.

## 느낀점

이 언어를 공부하고 사용하는 경험은 자바스크립트에서 코드를 작성하는 방법에도 많은 영향을 미쳤다.

1. Null 값의 사용을 자제하고 Enum과 같은 값을 활용하자
   `Null` 값은 반환되는 문맥을 이해하기 어렵게 만든다. `Null` 값이 아닌 `Enum`과 같은 값을 반환해서 해당 값이 반환된 이유에 대해 명확히 알 수 있도록 하게 되었다.
2. Error를 엄격하게 처리하자
   모든 에러는 개발자가 의도적으로 관리해야 한다. 에러를 `throw` 하는것 조차 내 의도 안에 있어야 한다.

물론 해당 회사에 최종 합격하지는 못했지만, 준비하면서 얻은게 적지 않았다. `Rust`는 앞으로도 계속해서 취미삼아? 사용하게 될 것 같다. 언젠가 이 언어에 익숙해져서 **블록체인** 관련 도메인으로 커리어를 준비해보고 싶다는 생각도 든다.
